module Process

  # This class should disappear as the TradeHub class should no longer be a used class.
  class UpdateTradeHubs < UpdateBase

    TRADE_HUBS_IDS = [30001021, 30001041, 30004738, 30002440, 30000903, 30004504, 30000718, 30001833, 30001842, 30001858, 30003278, 30003286, 30003361, 30001277, 30004299, 30045329, 30000109, 30002964, 30002187, 30004969, 30005001, 30003010, 30005216, 30002510, 30002544, 30002545, 30004078, 30003862, 30005055, 30005060, 30001363, 30001376, 30001429, 30002053, 30002385, 30003794, 30003830, 30002659, 30003574, 30003064, 30002819, 30000142, 30045305, 30005323]
    INNER_TRADE_HUBS_IDS = [30004299, 30045329, 30000109, 30002964, 30002187, 30004969, 30005001, 30003010, 30005216, 30002510, 30002544, 30002545, 30004078, 30003862, 30005055, 30005060, 30001363, 30001376, 30001429, 30002053, 30002385, 30003794, 30003830, 30002659, 30003574, 30003064, 30002819, 30000142, 30045305, 30005323]

    REGIONS_IDS = [11000001, 11000002, 11000003, 10000019, 11000004, 11000005, 11000006, 11000007, 11000008, 11000009, 11000010, 11000011, 11000012, 11000013, 11000014, 11000015, 10000045, 11000016, 11000017, 11000018, 11000019, 11000020, 11000021, 11000022, 11000023, 10000040, 11000024, 11000025, 11000026, 11000027, 11000028, 11000029, 11000030, 10000057, 10000051, 11000032, 10000027, 11000033, 10000063, 10000006, 10000021, 10000053, 10000025, 10000007, 10000035, 10000004, 10000050, 10000013, 10000055, 10000008, 10000066, 10000009, 10000047, 10000056, 10000046, 10000059, 10000018, 10000005, 10000017, 10000010, 10000003, 10000002, 10000012, 10000029, 10000028, 10000064, 10000044, 10000036, 10000022, 10000049, 10000065, 10000020, 10000048, 10000069, 10000042, 10000033, 10000068, 10000030, 10000016, 10000043, 10000032, 10000052, 10000041, 10000034, 10000023, 10000031, 10000015, 10000038, 10000067, 10000037, 10000054, 11000031, 10000014, 10000039, 10000061, 10000011, 10000062, 10000001, 10000058, 10000060]

    def update

      Misc::Banner.p 'About to update trade hubs'

      TradeHub.transaction do
        TRADE_HUBS_IDS.each do |id|
          system = UniverseSystem.find_by_cpp_system_id( id )

          raise "Unable to find system_id=#{id}" if @verbose_output && !system

          region = Region.find_by_cpp_region_id( system.universe_region.cpp_region_id )

          raise "Unable to find region #{system.universe_region.inspect}" if @verbose_output && !region

          TradeHub.find_or_create_by!( eve_system_id: id ) do |record|
            record.name = system.name
            record.region_id = region.id
          end
        end
      end
    end

  end

end